<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="侯橙橙个人博客">
<meta name="description" content="如水般清澈，如酒般清冽，如茶般清雅">
<meta name="theme-color" content="#000">
<title>Maven基础知识整理 | 侯橙橙的博客</title>
<link rel="shortcut icon" href="https://orange-hou.github.io//favicon.ico?v=1603457740539">
<link rel="stylesheet" href="https://orange-hou.github.io//styles/main.css">

<link rel="stylesheet" href="/media/css/mist.css">

<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/androidstudio.css" rel="stylesheet">  

<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>

    <meta name="description" content="Maven基础知识整理" />
    <meta name="keywords" content="" />
  </head>
  <body>
    <div class="head-top-line"></div>
    <div class="header-box">
      
<div class=" mist">
  <header class="header bg-color ">
    <div class="blog-header box-shadow-wrapper  " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="">
              <span class="logo-line-before">
                <i class=""></i>
              </span>
              <span class="main-title">侯橙橙的博客</span>
              <span class="logo-line-after">
                <i class=""></i>
              </span>
            </a>  
          
        </div>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            <li class="nav-item ">
              
                <a href="https://orange-hou.github.io/">
                  <i class="fa fa-globe"></i> 首页
                </a>
              
            </li>
          
            <li class="nav-item ">
              
                <a href="/archives">
                  <i class="fa fa-archive"></i> 归档
                </a>
              
            </li>
          
            <li class="nav-item ">
              
                <a href="/tags">
                  <i class="fa fa-tags"></i> 标签
                </a>
              
            </li>
          
            <li class="nav-item ">
              
                <a href="/post/about">
                  <i class="fa fa-user"></i> 关于
                </a>
              
            </li>
          
          <li class="nav-item">
            <a>
              <i class="fa fa-search"></i> 搜索
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
    </div>
    <div class="main-continer">
      
      <div class="section-layout mist bg-color">
        <div class="section-layout-wrapper">
          

<div class="sidebar">
    <div class="sidebar-box box-shadow-wrapper  right-motion" id="sidebar">
      
        <div class="post-list-sidebar">
          <div class="sidebar-title">
            <span id="tocSideBar" class="sidebar-title-item sidebar-title-active">文章目录</span>
            <span id="metaSideBar" class="sidebar-title-item">站点概览</span>
          </div>
        </div>
      
      <div class="sidebar-body mist" id="sidebar_body">
        
          <div class="post-side-meta" id="post_side_meta">
            
<div class="sidebar-wrapper box-shadow-wrapper ">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="https://orange-hou.github.io//images/avatar.png"/>
    <p class="site-author-name">侯橙橙的博客</p>
    <p class="site-description right-motion">一个爱手剥橙子的coder</p>
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">12</span>
        <span class="site-item-stat-name">文章</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">8</span>
        <span class="site-item-stat-name">分类</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">8</span>
        <span class="site-item-stat-name">标签</span>
      </a>
    </div>
  </div>
  
  


</div>
          </div>
          <div class="post-toc sidebar-body-active" id="post_toc" style="opacity: 1;">
            <div class="toc-box right-motion">
  <div class="toc-wrapper auto-number auto" id="toc_wrapper">
    <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E7%AE%80%E4%BB%8B">简介</a></li>
<li><a href="#%E5%9D%90%E6%A0%87">坐标</a></li>
<li><a href="#%E4%BB%93%E5%BA%93">仓库</a></li>
<li><a href="#%E4%BE%9D%E8%B5%96">依赖</a></li>
<li><a href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">生命周期</a></li>
<li><a href="#maven%E6%8F%92%E4%BB%B6">Maven插件</a></li>
</ul>
</li>
</ul>

  </div>
</div>

<script>

let lastTop = 0, lList = [], hList = [], postBody, lastIndex = -1; 
let active = 'active-show', activeClass = 'active-current';
let tocWrapper = document.querySelector('#toc_wrapper');
let tocContent = tocWrapper.children[0];
let autoNumber = tocWrapper&&tocWrapper.classList.contains('auto-number');

function addTocNumber(elem, deep) {
  if (!elem) {
    return;
  }
  let prop = elem.__proto__;

  if (prop === HTMLUListElement.prototype) {
    for (let i = 0; i < elem.children.length; i++) {
      addTocNumber(elem.children[i], deep + (i + 1) + '.');
    }
  } else if (prop === HTMLLIElement.prototype) {
    // 保存li元素
    lList.push(elem);
    for (let i = 0; i < elem.children.length; i++) {
      let cur = elem.children[i];
      if (cur.__proto__ === HTMLAnchorElement.prototype) {
        if (autoNumber) {
          cur.text =  deep + ' ' + cur.text;
        }
      } else if (cur.__proto__ === HTMLUListElement.prototype) {
        addTocNumber(cur, deep);
      }
    }
  }
}


document.addEventListener('scroll', function(e) {
  if (lList.length <= 0) {
    return;
  }
  let scrollTop = document.scrollingElement.scrollTop;
  let dir;

  if (lastTop - scrollTop > 0) {
    dir = 'up';
  } else {
    dir = 'down';
  }

  lastTop = scrollTop;
  if (scrollTop <= 0) {
    if (lastIndex >= 0 && lastIndex < hList.length) {
      lList[lastIndex].classList.remove(activeClass);
    }
    return;
  }

  let current = 0, hasFind = false;
  for (let i = 0; i < hList.length; i++) {
    if (hList[i].offsetTop > scrollTop) {
      current = i;
      hasFind = true;
      break;
    }
  }
  if (!hasFind && scrollTop > lList[lList.length - 1].offsetTop) {
    current = hList.length - 1;
  } else {
    current--;
  }
  if (dir === 'down') {
    if (current > lastIndex) {
      addActiveClass(current);
      removeActiveClass(lastIndex) 
      lastIndex = current;
      removeParentActiveClass();
      lList[current] && addActiveLiElemment(lList[current].parentElement,tocContent);
    }
  } else {
    if (current < lastIndex) {
      addActiveClass(current);
      removeActiveClass(lastIndex);
      lastIndex = current;
      removeParentActiveClass();
      lList[current] && addActiveLiElemment(lList[current].parentElement,tocContent);
    }
  }
});

function removeParentActiveClass() {
  let parents = tocContent.querySelectorAll('.'+active)
  parents.forEach(function(elem) {
    elem.classList.remove(active);
  });
}

function addActiveClass(index) {
  if (index >= 0 && index < hList.length) {
    lList[index].classList.add(activeClass);
  }
}

function removeActiveClass(index) {
  if (index >= 0 && index < hList.length) {
    lList[index].classList.remove(activeClass);
  }
}

function addActiveLiElemment(elem, parent) {
  if (!elem || elem === parent) {
    return;
  } else {
    if (elem.__proto__ === HTMLLIElement.prototype) {
      elem.classList.add(active);
    }
    addActiveLiElemment(elem.parentElement, parent);
  }
}

function showToc() {
  if (tocWrapper) {
    postBody = document.querySelector('#post_body');
    for (let i = 0; i < postBody.children.length; i++) {
      if (postBody.children[i].__proto__ === HTMLHeadingElement.prototype) {
        hList.push(postBody.children[i]);
      }
    }
    if (tocWrapper.classList.contains('compress')) {
        tocContent.classList.add('closed');
    } else if (tocWrapper.classList.contains('no_compress')){
      tocContent.classList.add('expanded');
    } else {
      if (hList.length > 10) {
        active = 'active-hidden'
        tocContent.classList.add('closed');
      } else {
        tocContent.classList.add('expanded');
      }
    }
  }
}
addTocNumber(tocContent, '');

window.addEventListener('load', function() {
  showToc();
  document.querySelector('#sidebar').style='display: block;';
  tocWrapper.classList.add('toc-active');
  setTimeout(function() {
    if ("createEvent" in document) {
      let evt = document.createEvent("HTMLEvents");
      evt.initEvent("scroll", false, true);
      document.dispatchEvent(evt);
    }
    else {
      document.fireEvent("scroll");
    }
  }, 500)
})

</script>
          </div>
        
      </div>
    </div>
</div>
<script>
  const SIDEBAR_TITLE_ACTIVE = 'sidebar-title-active';
  const SIDEBAR_BODY_ACTIVE = 'sidebar-body-active';
  const SLIDE_UP_IN = 'slide-up-in';

  let sidebar = document.querySelector('#sidebar'),
  tocSideBar = document.querySelector('#tocSideBar'),
  metaSideBar = document.querySelector('#metaSideBar'),
  postToc = document.querySelector('#post_toc'),
  postSiteMeta = document.querySelector('#post_side_meta'),
  sidebarTitle = document.querySelector('.sidebar-title'),
  sidebarBody = document.querySelector('#sidebar_body');

  tocSideBar && tocSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  metaSideBar && metaSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  function toggleSidebar(e) {
    let currentTitle = document.querySelector("."+SIDEBAR_TITLE_ACTIVE);
    if (currentTitle == e.srcElement) {
      return ;
    }
    let current, showElement, hideElement;
    if (e.srcElement == metaSideBar) {
      showElement = postSiteMeta;
      hideElement = postToc;
    } else if (e.srcElement == tocSideBar){
      showElement = postToc;
      hideElement = postSiteMeta;
    }
    currentTitle.classList.remove(SIDEBAR_TITLE_ACTIVE);
    e.srcElement.classList.add(SIDEBAR_TITLE_ACTIVE);

    window.Velocity(hideElement, 'stop');
    window.Velocity(hideElement, 'transition.slideUpOut', {
      display: 'none',
      duration: 200,
      complete: function () {
        window.Velocity(showElement, 'transition.slideDownIn', {
          duration: 200
        });
      }
    })
    hideElement.classList.remove(SIDEBAR_BODY_ACTIVE);
    showElement.classList.add(SIDEBAR_BODY_ACTIVE);
  }

  postToc.addEventListener('transitionend', function() {
    this.classList.remove(SLIDE_UP_IN);
  });


  if (sidebarBody.classList.contains('pisces') || sidebarBody.classList.contains('gemini')) {
    let hasFix = false;
    let scrollEl = document.querySelector('.main-continer');
    let limitTop = document.querySelector('#nav_ul').children.length * 42 + 162;
    window.addEventListener('scroll', function(e) {
    if (document.scrollingElement.scrollTop >= limitTop) {
      if (!hasFix) {
        sidebar.classList.add('sidebar-fixed');
        hasFix = true;
      }
    } else {
      if (hasFix) {
        sidebar.classList.remove('sidebar-fixed');
        hasFix = false;
      }
    }
  });
  }
  
</script>
          <div class="section-box box-shadow-wrapper">
            <div class="section bg-color post post-page">
              <div class="article-box">
    <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://orange-hou.github.io/post/maven-ji-chu-zhi-shi-zheng-li/">
      Maven基础知识整理
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>发布于</span>
      <span>2018-05-13</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>10分钟</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>2619<span class="pc-show">字数</span></span>
    </span>
  </div>
</header>
</div>
              <div class="post-body next-md-body" id="post_body">
                <h2 id="简介">简介</h2>
<p>Maven是基于项目对象模型（POM），使用Java语言编写的开源项目管理工具，是Apache软件基金会的顶级项目。主要用于项目构建、依赖管理、项目信息管理。</p>
<h2 id="坐标">坐标</h2>
<p>Maven的所有构件均通过坐标进行组织和管理。maven的坐标通过5个元素进行定义，其中groupId、artifactId、version是必须的，packaging是可选的（默认为jar），classifier是不能直接定义的。</p>
<ul>
<li>groupId：定义当前Maven项目所属的实际项目，跟Java包名类似。</li>
<li>artifactId：定义当前Maven项目的一个模块，默认情况下，Maven生成的构件，其文件名会以artifactId开头。</li>
<li>version：定义项目版本。</li>
<li>packaging：定义项目的打包方式，如jar、war、pom...，默认为jar</li>
<li>classifier：定义项目的附属构件，如hibernate-core-3.6.6.Final-sources.jar，hibernate-core-3.6.6.Final-javadoc.jar，其中sources和javadoc就是这两个附属构件的classifier。classifier不能直接定义，通常由附加的插件帮助生成。</li>
</ul>
<h2 id="仓库">仓库</h2>
<p><strong>2.1仓库简介</strong></p>
<p>没有Maven时，项目用到的.jar文件通常需要拷贝到/lib目录，项目多了，拷贝的文件副本就多了，占用磁盘空间，且难于管理。Maven使用一个称之为仓库的目录，根据构件的坐标统一存储这些构件的唯一副本，在项目中通过依赖声明，可以方便的引用构件。</p>
<p><strong>2.2仓库分类</strong></p>
<p>Maven仓库分为本地仓库和远程仓库，寻找构件时，首先从本地仓库找，找不到则到远程仓库找，再找不到就报错；在远程仓库找到了就下载到本地仓库使用。中央仓库是Maven核心自带的远程仓库，除了中央仓库外，还有其他很多公共的远程仓库。私服是架设在本机或局域网中的一种特殊的远程仓库，通过私服可以方便的管理其他所有的外部远程仓库。</p>
<figure data-type="image" tabindex="1"><img src="https://orange-hou.github.io//post-images/1591518958254.png" alt="" loading="lazy"></figure>
<p>我们可以在Maven配置文件settings.xml中更改本地仓库的地址、添加远程仓库、添加镜像仓库。</p>
<p><localRepository>标签 -------&gt;本地仓库地址</p>
<p><repositories>标签    -------&gt;配置远程仓库</p>
<p><mirrors>标签         -------&gt;配置镜像仓库</p>
<p>镜像仓库可以理解为仓库的副本，针对中央仓库，国内就有它的镜像仓库，直接访问镜像仓库，更快更稳定。<mirrors>标签中有个子标签<mirrorOf>指明了为哪个仓库配置镜像，可以使用通配符如<mirrorOf>*</mirrorOf>或者<mirrorOf>repo1,repo2</mirrorOf> 等进行匹配。一旦配置了镜像，所有针对原仓库的访问将转到镜像仓库的访问，原仓库将不再能直接访问，即使镜像仓库不稳定或停用。在搭建私服的时候，我们通常为所有仓库设置镜像为私服地址，通过私服对所有仓库进行统一管理。</p>
<h2 id="依赖">依赖</h2>
<p><strong>3.1依赖元素</strong></p>
<pre><code>&lt;dependencies&gt;      
	&lt;dependency&gt;          
		&lt;groupId&gt;org.springframework&lt;/groupId&gt;          
		&lt;artifactId&gt;spring-test&lt;/artifactId&gt;          
		&lt;version&gt;3.2.0.RELEASE&lt;/version&gt;          
		&lt;type&gt;jar&lt;/type&gt;          
		&lt;scope&gt;test&lt;/scope&gt;                   
		&lt;optional&gt;false&lt;/optional&gt;          
		&lt;exclusions&gt;      
			&lt;exclusion&gt;&lt;/exclusion&gt;          
		&lt;/exclusions&gt;      
	&lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<ul>
<li>type：依赖类型，对应构件中定义的packaging，可不声明，默认为jar。</li>
<li>scope：依赖范围。</li>
<li>optional：依赖是否可选。</li>
<li>exclusions：排除传递依赖。</li>
</ul>
<p><strong>3.2依赖范围</strong></p>
<p>执行不同的Maven命令（mvn package,mvn test,mvn install...），会使用不同的classpath，Maven对应的有三套：编译classpath、测试classpath、运行classpth。scope选项的值，决定了该依赖构件会被引入哪一个classpath中。</p>
<ul>
<li>compile：编译依赖范围，默认值。此选项对编译、测试和运行三种classpath都有效。</li>
<li>test：测试依赖范围。只对测试有效，表明只在测试的时候需要，在编译和运行时将无法使用该类依赖，如junit。</li>
<li>provided：已提供依赖范围。编译和测试有效，运行无效。如servlet-api，在项目运行时，tomcat等容器已经提供，无需Maven重复引入。</li>
<li>runtime：运行时依赖范围。测试和运行有效，编译无效。如jdbc驱动实现，编译时只需接口，测试或运行时才需要具体的jdbc驱动实现。</li>
<li>system：系统依赖范围。和provided依赖范围一致，需要通过<systemPath>显式指定，且可以引用环境变量。scope不推荐。</li>
<li>import：导入依赖范围。使用该选项，通常需要<type>pom</type>，将目标pom的dependencyManagement配置导入合并到当前pom的dependencyManagement元素。</li>
</ul>
<p><strong>3.3依赖传递</strong></p>
<figure data-type="image" tabindex="2"><img src="https://orange-hou.github.io//post-images/1591518970200.png" alt="" loading="lazy"></figure>
<p>如上图所示，hibernate-core依赖hibernate-commons-annotations，而hibernate-commons-annotations又依赖slf4j-api，hibernate-core对slf4j-api的依赖就是传递依赖。我们只需要引入hibernate-core构件的依赖，不用考虑它还有其他的依赖，也不用担心会引入多余或冲突的依赖，Maven会自动为我们引入依赖及传递依赖。</p>
<p><strong>3.4依赖传递和依赖范围</strong></p>
<figure data-type="image" tabindex="3"><img src="https://orange-hou.github.io//post-images/1591518980995.png" alt="" loading="lazy"></figure>
<p>几种依赖关系分别叫做第一直接依赖、第二直接依赖和传递性依赖，其中第一直接依赖和第二直接依赖的范围，决定了传递性依赖的依赖范围。</p>
<p><strong>3.5依赖冲突</strong></p>
<p>通常我们不需要关心传递性依赖，当多个传递性依赖中有对同一构件不同版本的依赖时，如何解决呢？</p>
<ul>
<li>短路径优先：假如有以下依赖：A-&gt;B-&gt;C-&gt;X（版本1.0）和A-&gt;D-&gt;X（版本2.0），则优先解析较短路径的X（版本2.0）；</li>
<li>先申明优先：若路径长度相同，则谁先申明，谁被解析。</li>
</ul>
<p><strong>3.6依赖排除</strong></p>
<p>针对依赖冲突中的“短路径优先”，如果我们想使用长路径的依赖怎么办？这时可以使用依赖排除<exclusions>元素，显式排除短路径依赖。在非冲突的情况下，这种方法同样有效。</p>
<p><strong>3.7依赖归类</strong></p>
<p>通常在项目中，我们会同时依赖同一个构件的不同模块，如spring-orm-3.2.0，spring-context-3.2.0，且多个模块版本相同，为了维护和升级方便，我们可以对其统一管理，这时可以使用到Maven属性，类似于变量的概念。</p>
<pre><code>&lt;properties&gt;
	&lt;springframework.version&gt;3.2.0.RELEASE&lt;/springframework.version&gt;
&lt;/properties&gt;
&lt;dependencies&gt;
	&lt;dependency&gt;
		&lt;groupId&gt;org.springframework&lt;/groupId&gt;
		&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;
		&lt;version&gt;${springframework.version}&lt;/version&gt;
	&lt;/dependency&gt;
	&lt;dependency&gt;
		&lt;groupId&gt;org.springframework&lt;/groupId&gt;
		&lt;artifactId&gt;spring-context&lt;/artifactId&gt;
		&lt;version&gt;${springframework.version}&lt;/version&gt;
	&lt;/dependency&gt;...
</code></pre>
<h2 id="生命周期">生命周期</h2>
<p><strong>4.1概念</strong></p>
<p>Maven的生命周期就是对所有的构建过程进行抽象和统一。包含了项目的清理、初始化、编译、测试、打包、集成测试、验证、部署和站点生成等几乎所有的构建步骤。</p>
<p>Maven的生命周期是抽象的，即生命周期不做任何实际的工作，实际任务由插件完成，类似于设计模式中的模板方法。</p>
<p><strong>4.2三套生命周期</strong></p>
<p>Maven有三套相互独立的生命周期，分别是clean、default和site，每个生命周期包含一些阶段（phase），阶段是有顺序的，后面的阶段依赖于前面的阶段。</p>
<ul>
<li>clean生命周期：清理项目，包含三个phrase。</li>
</ul>
<ol>
<li>pre-clean：执行清理前需要完成的工作</li>
<li>clean：清理上一次构建生成的工作</li>
<li>post-clean：执行清理后需要完成的工作</li>
</ol>
<ul>
<li>default生命周期：构建项目，重要的phrase如下。</li>
</ul>
<ol>
<li>validate：验证工程是否正确，所有需要的资源是否可用</li>
<li>compile：编译项目的源代码</li>
<li>test：使用合适的单元测试框架来测试已编译的源代码。这些测试不需要已打包和部署。</li>
<li>package：把已编译的代码打包成可发布的格式，比如jar。</li>
<li>integration-test：如有需要，将包处理和发布到一个能够集成测试的环境。</li>
<li>verify：运行所有检查，验证包是否有效且达到质量标准。</li>
<li>install：把包安装到maven本地仓库，可以被其他工程作为依赖来使用。</li>
<li>Deploy：在集成或者发布环境下执行，将最终版本的包拷贝到远程的repository，使得其他的开发者或者工程可以共享。</li>
</ol>
<ul>
<li>site生命周期</li>
</ul>
<ol>
<li>pre-site：生成项目站点之前需要完成的工作。</li>
<li>site：生成项目站点文档。</li>
<li>post-site：生成项目站点之后需要完成的工作。</li>
<li>site-deploy：将项目站点发布到服务器。</li>
</ol>
<h2 id="maven插件">Maven插件</h2>
<p><strong>5.1基本概念及使用</strong></p>
<p>我们知道Maven本质上一个插件框架，它的核心并不执行任何具体的构建任务，所有这些任务都交给插件来完成。例如编译源代码是由maven-compile-plugin完成的。进一步说，每个任务对应了一个插件目标（goal），每个插件会有一个或者多个目标。</p>
<p>用户可以通过两种方式调用Maven插件目标。第一种方式是将插件目标与生命周期阶段（lifecycle phase）绑定，这样用户在命令行只是输入生命周期阶段而已，例如Maven默认将maven-compiler-plugin的compile目标与compile生命周期阶段绑定，因此命令<strong>mvn compile</strong>实际上是先定位到compile这一生命周期阶段，然后再根据绑定关系调用maven-compiler-plugin的compile目标。第二种方式是直接在命令行指定要执行的插件目标，例如<strong>mvn archetype:generate</strong> 就表示调用maven-archetype-plugin的generate目标，这种带冒号的调用方式与生命周期无关。</p>
<p><strong>5.2插件分类</strong></p>
<p>（1）构件插件：在生成过程中执行，并在pom.xml中的<build/>元素进行配置。</p>
<p>（2）报告插件：在网站生成期间执行，在pom.xml中的<reporting/>元素进行配置。</p>
<p><strong>5.3常用插件</strong></p>
<ul>
<li>maven-project-info-reports-plugin：项目总报告</li>
<li>cobertura-maven-plugin：代码覆盖率</li>
<li>maven-jar-plugin：代码打包插件</li>
<li>maven-resources-plugin：处理资源文件</li>
<li>maven-compiler-plugin：编译源代码</li>
<li>maven-surefire-plugin：单元测试</li>
<li>maven-dependency-plugin：分析项目依赖</li>
<li>exec-maven-plugin：执行jar包</li>
<li>maven-assembly-plugin：将依赖打包进jar</li>
<li>maven-antrun-plugin：让用户在Maven项目中运行Ant任务</li>
</ul>

              </div>
              <div class="post-footer">
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong>本文作者：</strong>
      侯橙橙的博客
    </li>
    <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://orange-hou.github.io/post/maven-ji-chu-zhi-shi-zheng-li/" title="Maven基础知识整理">Maven基础知识整理</a>
    </li>
    <li class="post-copyright-license">
      <strong>版权声明： </strong>
      本博客所有文章除特别声明外，转载请注明出处！
    </li>
  </ul>
  <div class="tags">
    
  </div>
  <div class="nav">
    <div class="nav-prev">
      
        <i class="fa fa-chevron-left"></i>
        <a class="nav-pc-next" title="记一次Solr zk watcher泄露引发的OOM事件" href="https://orange-hou.github.io/post/ji-yi-ci-solr-zk-jie-dian-zhu-ce-dui-ji-shi-jian/">记一次Solr zk watcher泄露引发的OOM事件</a class="nav-pc-next">
        <a class="nav-mobile-prev" title="记一次Solr zk watcher泄露引发的OOM事件" href="https://orange-hou.github.io/post/ji-yi-ci-solr-zk-jie-dian-zhu-ce-dui-ji-shi-jian/">上一篇</a>
      
    </div>
    <div class="nav-next">
      
    </div>
  </div>
</div>
              
            </div>
          </div>
        </div>
      </div>
      <div class="footer-box">
  <footer class="footer">
    <!--<div class="copyright">
      © 2019-2020 <i class="fa fa-heart"></i> HsxyHao
    </div>-->
    <div class="poweredby">
      Powered by <a href="https://orange-hou.github.io/" target="_blank">侯橙橙的博客</a>
    </div>
  </footer>
  
  
    <div class="drawer-box left" id="drawer_box">
      <span class="muse-line muse-line-first"></span>
      <span class="muse-line muse-line-middle"></span>
      <span class="muse-line muse-line-last"></span>
    </div>
  
  <div class="mist back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
  </div>
  
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
  back2TopText = document.querySelector('#back_to_top_text'),
  drawerBox = document.querySelector('#drawer_box'),
  rightSideBar = document.querySelector('.sidebar'),
  viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {
   
    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function(e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });
  
  window.addEventListener('scroll', function(e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });

  
  let hasCacu = false;
  window.onresize = function() {
    if (window.width > 991) {
      calcuHeight();
    } else {
      hasCacu = false;
    }
  }

  function calcuHeight() {
    // 动态调整站点概览高度
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();
  
  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function() {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, transitionDir,{ });
          }
        })
        window.Velocity(viewport, openProp,{
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp ,{
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // 代码高亮
  hljs.initHighlightingOnLoad();

</script>
    </div>
  </body>
  <script src="/media/js/motion.js"></script>
</html>